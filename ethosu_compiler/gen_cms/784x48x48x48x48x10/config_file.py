from ethosu.vela.api import NpuAccelerator



MODEL_NAME = "784x48x48x48x48x10"
LAYER_BASE_NAME = "fc_lif_layer_"

NUM_TIME_STEPS = 25
NUM_LAYERS = 5

ALL_BETA_VALUE = 0.95
ALL_VTH_VALUE = 1

INIT_LAYER_SIZES_LIST = [
    28*28,
    48,
    48,
    48,
    48,
    10
]

MEM_STORE_LOC_LIST = [
    "model_params_sram1",
    "model_params_sram1",
    "model_params_sram1",
    "model_params_sram1",
    "model_params_sram1"
]



WEIGHTS_AND_BIASES_ON_SRAM_LIST = [
    False,
    False,
    False,
    False,
    False 
    #True,
    #True,
    #True,
    #True,
    #True 
]

LIF_PARAMS_ON_SRAM_LIST = [
    False,
    False,
    False,
    False,
    False
]

'''
Set Accelerator
'''
ACCELERATOR = NpuAccelerator.Ethos_U55_256



'''
Set Test Pattern to use
'''
TEST_PATTERN_NUM = 0



'''
For setting quantization params
'''



TIME_NOT_UPDATED_MAX_VAL = 16
TIME_NOT_UPDATED_MIN_VAL = 0

IN_CURR_MAX_VAL_LIST = [6, 6, 6, 6, 6]
V_MEM_MAX_VAL_LIST = [9, 9, 9, 9, 9]
DECAYED_MEM_MAX_VAL_LIST = [7, 7, 7, 7, 7]

IN_CURR_MIN_VAL_LIST = [-6, -6, -6, -6, -6]
V_MEM_MIN_VAL_LIST = [-6, -6, -6, -6, -6]
DECAYED_MEM_MIN_VAL_LIST = [-4, -4, -4, -4, -4]

'''
IN_CURR_MAX_VAL_LIST = [32.31639862060547, 2.8685173988342285, 2.9761850833892822, 1.9902856349945068, 1.1731281280517578]
IN_CURR_MIN_VAL_LIST = [-249.23904418945312, -17.404865264892578, -18.767826080322266, -15.158403396606445, -7.744828224182129]
V_MEM_MAX_VAL_LIST = [71.57511138916016, 11.408863067626953, 10.76890754699707, 6.286115646362305, 0.9998220205307007]
V_MEM_MIN_VAL_LIST = [-1315.06005859375, -137.46726989746094, -180.0508575439453, -178.27432250976562, -63.34611129760742]





DECAYED_MEM_MAX_VAL_LIST = V_MEM_MAX_VAL_LIST
DECAYED_MEM_MIN_VAL_LIST = V_MEM_MIN_VAL_LIST
'''

#IN_CURR_MAX_VAL_LIST = [32.31639862060547, 2.8685173988342285, 2.9761850833892822, 1.9902856349945068, 1.1731281280517578]
#IN_CURR_MIN_VAL_LIST = [-249.23904418945312, -17.404865264892578, -18.767826080322266, -15.158403396606445, -7.744828224182129]
#V_MEM_MAX_VAL_LIST = [71.57510375976562, 11.408863067626953, 10.768905639648438, 6.28611421585083, 0.9998219013214111]
#V_MEM_MIN_VAL_LIST = [-1315.0596923828125, -137.46726989746094, -180.05087280273438, -178.27427673339844, -63.346107482910156]
#MAX_DECAYED_V_MEM_PLUS_IN_CURR_VAL_LIST = [72.57510375976562, 12.408863067626953, 11.768905639648438, 7.28611421585083, 1.83847975730896]
#DECAYED_MEM_PLUS_IN_CURR_VAL_LIST = [-1315.0596923828125, -137.46726989746094, -180.05087280273438, -178.27427673339844, -63.346107482910156]
#DECAYED_MEM_MAX_VAL_LIST = [67.99634552001953, 10.838419914245605, 10.230460166931152, 5.659700393676758, 0.9498307704925537]
#DECAYED_MEM_MIN_VAL_LIST = [-1249.306640625, -130.59390258789062, -171.04832458496094, -164.8804473876953, -60.178802490234375]


DECAY_ACC_MAX_VAL = 0
DECAY_ACC_MIN_VAL = -1

DECAY_MAX_VAL = 0.95
DECAY_MIN_VAL = 0

